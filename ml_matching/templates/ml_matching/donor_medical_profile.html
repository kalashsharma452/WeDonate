{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Medical Profile</h2>
    
    <div class="card">
        <div class="card-header">
            <h4>Update Your Medical Information</h4>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Age</label>
                            <input type="number" name="age" class="form-control" value="{{ profile.age|default:'' }}" required>
                        </div>
                        <div class="form-group">
                            <label>Weight (kg)</label>
                            <input type="number" step="0.1" name="weight" class="form-control" value="{{ profile.weight|default:'' }}" required>
                        </div>
                        <div class="form-group">
                            <label>Height (cm)</label>
                            <input type="number" step="0.1" name="height" class="form-control" value="{{ profile.height|default:'' }}" required>
                        </div>
                        <div class="form-group">
                            <label>Blood Type</label>
                            <select name="blood_type" class="form-control" required>
                                <option value="">Select Blood Type</option>
                                <option value="A+" {% if profile.blood_type == 'A+' %}selected{% endif %}>A+</option>
                                <option value="A-" {% if profile.blood_type == 'A-' %}selected{% endif %}>A-</option>
                                <option value="B+" {% if profile.blood_type == 'B+' %}selected{% endif %}>B+</option>
                                <option value="B-" {% if profile.blood_type == 'B-' %}selected{% endif %}>B-</option>
                                <option value="AB+" {% if profile.blood_type == 'AB+' %}selected{% endif %}>AB+</option>
                                <option value="AB-" {% if profile.blood_type == 'AB-' %}selected{% endif %}>AB-</option>
                                <option value="O+" {% if profile.blood_type == 'O+' %}selected{% endif %}>O+</option>
                                <option value="O-" {% if profile.blood_type == 'O-' %}selected{% endif %}>O-</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Medical History</label>
                            <textarea name="medical_history" class="form-control" rows="3" required>{{ profile.medical_history|default:'' }}</textarea>
                        </div>
                        <div class="form-group">
                            <label>Chronic Diseases</label>
                            <textarea name="chronic_diseases" class="form-control" rows="2">{{ profile.chronic_diseases|default:'' }}</textarea>
                        </div>
                        <div class="form-group">
                            <label>Current Medications</label>
                            <textarea name="medications" class="form-control" rows="2">{{ profile.medications|default:'' }}</textarea>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" name="smoking_status" class="form-check-input" {% if profile.smoking_status %}checked{% endif %}>
                            <label class="form-check-label">Smoking</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" name="alcohol_consumption" class="form-check-input" {% if profile.alcohol_consumption %}checked{% endif %}>
                            <label class="form-check-label">Alcohol Consumption</label>
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <button type="submit" class="btn btn-primary">Update Profile</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}